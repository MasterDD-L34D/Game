<!DOCTYPE html>
<html lang="it">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="data-owner" content="MasterDD-L34D" />
    <meta name="data-repo" content="Game" />
    <meta
      name="pack-root"
      content="https://raw.githubusercontent.com/MasterDD-L34D/Game/main/packs/evo_tactics_pack/"
    />
    <meta name="data-branch" content="main" />
    <title>Ecosystem Pack Â· Generatore</title>
    <link rel="stylesheet" href="../site.css" />
    <script type="module" src="generator.js" defer></script>
  </head>
  <body>
    <header class="section">
      <div class="section__header">
        <p class="section__kicker">Ecosystem Pack</p>
        <h1>Generatore di ecosistemi</h1>
        <p>
          Scegli il numero di biomi, applica filtri su flag, ruoli e tag funzionali, quindi
          genera un set coerente di specie con seed d'incontro calcolati automaticamente.
        </p>
      </div>
      <nav class="chip-list" aria-label="Navigazione secondaria">
        <a class="chip" href="index.html">Panoramica</a>
        <a class="chip chip--active" aria-current="page" href="generator.html">Generatore</a>
        <a class="chip" href="catalog.html">Catalogo</a>
        <a class="chip" href="reports/index.html">Report &amp; analisi</a>
      </nav>
    </header>

    <main class="layout layout--codex" data-anchor-root>
      <nav class="layout__rail" data-anchor="summary" aria-label="Sommario della pagina">
        <div class="anchor-nav">
          <div class="anchor-nav__header">
            <p class="anchor-nav__title">Sommario</p>
            <button
              type="button"
              class="button button--ghost anchor-nav__toggle"
              data-codex-toggle
            >
              âŒ˜ Codex mode
            </button>
          </div>
          <ol class="anchor-nav__list" data-anchor-list>
            <li class="anchor-nav__item">
              <a
                class="anchor-nav__link"
                href="#generator-parameters"
                data-anchor-target="parameters"
              >
                Parametri
              </a>
            </li>
            <li class="anchor-nav__item">
              <a
                class="anchor-nav__link"
                href="#generator-traits"
                data-anchor-target="traits"
              >
                Pacchetti ambientali
              </a>
            </li>
            <li class="anchor-nav__item">
              <a
                class="anchor-nav__link"
                href="#generator-biomes"
                data-anchor-target="biomes"
              >
                Biomi selezionati
              </a>
            </li>
            <li class="anchor-nav__item">
              <a
                class="anchor-nav__link"
                href="#generator-seeds"
                data-anchor-target="seeds"
              >
                Encounter seed
              </a>
            </li>
          </ol>
        </div>
      </nav>

      <div class="layout__content">
        <section class="section" id="generator-parameters" data-panel="parameters">
          <article class="card card--highlight">
            <form class="form" id="generator-form">
            <h2 class="form__title">Parametri</h2>
            <div class="grid grid--three">
              <label class="form__field">
                <span>Numero di biomi</span>
                <input id="nBiomi" type="number" min="1" max="6" value="2" />
              </label>
              <label class="form__field">
                <span>Flags richiesti</span>
                <select id="flags" multiple size="5"></select>
              </label>
              <label class="form__field">
                <span>Ruoli trofici</span>
                <select id="roles" multiple size="5"></select>
              </label>
              <label class="form__field">
                <span>Tag funzionali</span>
                <select id="tags" multiple size="6"></select>
              </label>
            </div>
            <div class="generator-form__section">
              <h3 class="generator-form__legend">Vincoli principali</h3>
              <div class="generator-form__grid">
                <label class="form__field">
                  <span>Numero di biomi</span>
                  <input id="nBiomi" type="number" min="1" max="6" value="2" />
                </label>
              </div>
            </div>
            <div class="generator-form__section">
              <h3 class="generator-form__legend">Filtra ecosistema</h3>
              <div class="generator-form__grid generator-form__grid--filters">
                <label class="form__field">
                  <span>Flags richiesti</span>
                  <select id="flags" multiple size="5"></select>
                </label>
                <label class="form__field">
                  <span>Ruoli trofici</span>
                  <select id="roles" multiple size="5"></select>
                </label>
                <label class="form__field">
                  <span>Tag funzionali</span>
                  <select id="tags" multiple size="6"></select>
                </label>
              </div>
            </div>
            <div class="form__actions generator-form__actions">
              <button type="button" class="button" data-action="roll-ecos">ðŸŽ² Genera ecosistema</button>
              <button type="button" class="button button--secondary" data-action="reroll-biomi">â†» Re-roll biomi</button>
              <button type="button" class="button button--secondary" data-action="reroll-species">â†» Re-roll specie</button>
              <button type="button" class="button button--ghost" data-action="reroll-seeds">â†» Re-roll encounter seed</button>
              <button type="button" class="button button--ghost" data-action="export-json">â¬‡ï¸Ž JSON</button>
              <button type="button" class="button button--ghost" data-action="export-yaml">â¬‡ï¸Ž YAML</button>
            </div>
          </form>
          <section
            class="generator-summary"
            id="generator-summary"
            aria-labelledby="generator-summary-title"
          >
            <h3 class="generator-summary__title" id="generator-summary-title">Riepilogo rapido</h3>
            <dl class="generator-summary__metrics">
              <div class="generator-summary__metric">
                <dt class="generator-summary__label">Biomi</dt>
                <dd class="generator-summary__value" data-summary="biomes">0</dd>
              </div>
              <div class="generator-summary__metric">
                <dt class="generator-summary__label">Specie</dt>
                <dd class="generator-summary__value" data-summary="species">0</dd>
              </div>
              <div class="generator-summary__metric">
                <dt class="generator-summary__label">Seed</dt>
                <dd class="generator-summary__value" data-summary="seeds">0</dd>
              </div>
            </dl>
            <p class="generator-summary__status" id="generator-status" aria-live="polite">
              Carica il catalogo per iniziare.
            </p>
            <p class="generator-summary__note" id="generator-last-action">Ultimo aggiornamento: â€”</p>
            <div class="generator-summary__pins">
              <h4 class="generator-summary__subtitle">Specie pinnate</h4>
              <p class="generator-summary__empty" id="generator-pinned-empty">
                Nessuna specie pinnata. Usa il pulsante ðŸ“Œ sulle card per aggiungerle.
              </p>
              <ul class="generator-pins" id="generator-pinned-list" aria-live="polite"></ul>
            </div>
          </section>
        </article>
        </section>

        <section class="section" id="generator-traits" data-panel="traits">
          <div class="section__header">
            <h2>Pacchetti di tratti ambientali</h2>
            <p>
              Anteprima delle tavolozze di tratti per biomi estremi, reti connesse e cluster
              avanzati da usare come riferimento durante la generazione.
            </p>
          </div>
          <div id="trait-grid" class="grid grid--cards" aria-live="polite"></div>
        </section>

        <section class="section" id="generator-biomes" data-panel="biomes">
          <div class="section__header">
            <h2>Biomi selezionati</h2>
            <p>Ogni scheda mostra i link utili al YAML originale, foodweb e report HTML.</p>
          </div>
          <div
            id="biome-grid"
            class="generator-collection"
            data-collection="biomes"
            aria-live="polite"
          ></div>
        </section>

        <section class="section" id="generator-seeds" data-panel="seeds">
          <div class="section__header">
            <h2>Encounter seed generati</h2>
            <p>Il budget di minaccia viene calcolato in base al tier delle specie estratte.</p>
          </div>
          <div
            id="seed-grid"
            class="generator-collection generator-collection--compact"
            data-collection="seeds"
            aria-live="polite"
          ></div>
        </section>
      </div>

      <aside
        class="layout__rail layout__rail--meta"
        aria-label="Contesto della sezione"
        data-anchor-beside
      >
        <div class="codex-breadcrumb">
          <p class="codex-breadcrumb__label">Sezione attuale</p>
          <p class="codex-breadcrumb__trail" data-anchor-breadcrumb aria-live="polite">
            Parametri
          </p>
        </div>
        <div class="codex-minimap" data-anchor-minimap>
          <p class="codex-minimap__title">Minimappa</p>
        </div>
      </aside>
    </main>

    <div class="codex-overlay" data-codex-overlay hidden aria-hidden="true">
      <div class="codex-overlay__inner" role="dialog" aria-modal="true" aria-label="Codex mode">
        <header class="codex-overlay__header">
          <p
            class="codex-overlay__breadcrumb"
            data-anchor-breadcrumb
            data-breadcrumb-mode="overlay"
            aria-live="polite"
          >
            Parametri
          </p>
          <button
            type="button"
            class="button button--ghost codex-overlay__close"
            data-codex-close
          >
            Chiudi Codex
          </button>
        </header>
        <div class="codex-overlay__body">
          <p class="codex-overlay__subtitle">Naviga tra le sezioni e ottieni una panoramica rapida.</p>
          <nav
            class="codex-overlay__map"
            aria-label="Minimappa Codex"
            data-anchor-minimap
            data-minimap-mode="overlay"
          ></nav>
        </div>
      </div>
    </div>
  </body>
</html>
